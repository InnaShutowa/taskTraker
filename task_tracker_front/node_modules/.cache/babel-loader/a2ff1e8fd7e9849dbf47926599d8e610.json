{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\taskTraker\\\\task_tracker_front\\\\src\\\\components\\\\UserPage\\\\UserPage.js\";\nimport React, { Component } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport Moment from 'react-moment';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport DeleteConfirmModal from '../DeleteConfirmModal';\nimport * as css from \"./StylesUserPage.css\";\n\nclass UserPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.getUserInfoHandler(\"\");\n    };\n\n    this.getUserInfoHandler = apikey => {\n      axios.get('http://localhost:57392/admin?apikey=qwerty&user_id=' + this.state.userId).then(response => {\n        if (response.data.error) {\n          alert(response.data.error);\n        } else {\n          this.setState({\n            user: response.data.data,\n            isRequested: true\n          });\n        }\n      });\n    };\n\n    this.setShow = value => {\n      this.setState({\n        isShow: value\n      });\n    };\n\n    this.deleteUserHandler = userId => {\n      axios.post('http://localhost:57392/userPage', {\n        apikey: \"qwerty\",\n        user_id: userId\n      }).then(response => {\n        console.log(response);\n\n        if (response.data.error) {\n          alert(response.data.error);\n        } else {\n          this.props.history.push(\"/users\");\n        }\n      });\n    };\n\n    this.state = {\n      user: {\n        first_name: '',\n        last_name: '',\n        is_admin: '',\n        birth_date: new Date()\n      },\n      isRequested: false,\n      isShow: false,\n      userId: Number.parseInt(props.location.pathname.substring(props.location.pathname.lastIndexOf('/') + 1))\n    };\n  }\n\n  render() {\n    if (this.state.isRequested) {\n      return React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"headingPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\"), React.createElement(Button, {\n        className: \"lineValueButton\",\n        onClick: () => this.setShow(true),\n        variant: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        as: Row,\n        controlId: \"formHorizontalEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        className: \"boldLineHead\",\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"\\u0418\\u043C\\u044F\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.state.user.first_name))), React.createElement(Form.Group, {\n        as: Row,\n        controlId: \"formHorizontalEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        className: \"boldLineHead\",\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.state.user.last_name))), React.createElement(Form.Group, {\n        as: Row,\n        controlId: \"formHorizontalEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        className: \"boldLineHead\",\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.user.phone))), React.createElement(Form.Group, {\n        as: Row,\n        controlId: \"formHorizontalEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        className: \"boldLineHead\",\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Email\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.state.user.email))), React.createElement(Form.Group, {\n        as: Row,\n        controlId: \"formHorizontalEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        className: \"boldLineHead\",\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\"), React.createElement(Col, {\n        sm: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        column: true,\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Moment, {\n        format: \"DD.MM.YYYY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, new Date(this.state.user.birth_date)))))), React.createElement(\"div\", {\n        className: \"inline_block_users_title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title_block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0434\\u0430\\u0447\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\")), React.createElement(\"div\", {\n        className: \"text_description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        data: [],\n        striped: true,\n        hover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        isKey: true,\n        dataField: \"taskId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Id \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"), React.createElement(TableHeaderColumn, {\n        dataField: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0438\"), React.createElement(TableHeaderColumn, {\n        dataField: \"taskDate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u043E\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043A\\u0438\"), React.createElement(TableHeaderColumn, {\n        dataField: \"id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Id \\u0438\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044F\"), React.createElement(TableHeaderColumn, {\n        dataField: \"time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0442\\u0440\\u0430\\u0447\\u0435\\u043D\\u043D\\u043E\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F\"), React.createElement(TableHeaderColumn, {\n        dataField: \"status\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"))), React.createElement(DeleteConfirmModal, {\n        show: this.state.isShow,\n        projectId: this.state.userId,\n        onHide: () => this.setShow(false),\n        onSave: userId => this.deleteUserHandler(userId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.User,\n  userId: 0,\n  isShow: false\n});\n\nexport default connect(mapStateToProps, null)(UserPage);","map":{"version":3,"sources":["C:/projects/taskTraker/task_tracker_front/src/components/UserPage/UserPage.js"],"names":["React","Component","Form","Row","Col","Button","connect","axios","Moment","BootstrapTable","TableHeaderColumn","DeleteConfirmModal","css","UserPage","constructor","props","componentDidMount","getUserInfoHandler","apikey","get","state","userId","then","response","data","error","alert","setState","user","isRequested","setShow","value","isShow","deleteUserHandler","post","user_id","console","log","history","push","first_name","last_name","is_admin","birth_date","Date","Number","parseInt","location","pathname","substring","lastIndexOf","render","phone","email","mapStateToProps","User"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport Moment from 'react-moment';\r\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\r\nimport DeleteConfirmModal from '../DeleteConfirmModal';\r\nimport * as css from \"./StylesUserPage.css\";\r\n\r\n\r\nclass UserPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: {\r\n                first_name: '',\r\n                last_name: '',\r\n                is_admin: '',\r\n                birth_date: new Date()\r\n            },\r\n            isRequested: false,\r\n            isShow: false,\r\n            userId: Number.parseInt(props.location.pathname.substring(props.location.pathname.lastIndexOf('/')+1))\r\n        };\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getUserInfoHandler(\"\");\r\n    };\r\n\r\n    getUserInfoHandler = (apikey) => {\r\n        axios.get('http://localhost:57392/admin?apikey=qwerty&user_id='+this.state.userId)\r\n        .then(response => {\r\n            if (response.data.error) {\r\n                alert(response.data.error);\r\n            } else {\r\n                this.setState({user: response.data.data, isRequested: true});\r\n            }\r\n        });\r\n    }\r\n\r\n    setShow = (value) => {\r\n        this.setState({ isShow: value });\r\n    }\r\n\r\n    deleteUserHandler = (userId) => {\r\n        axios.post('http://localhost:57392/userPage',{\r\n            apikey: \"qwerty\",\r\n            user_id: userId\r\n        })\r\n        .then(response => {\r\n            console.log(response);\r\n            if (response.data.error) {\r\n                alert(response.data.error);\r\n            } else {\r\n                this.props.history.push(`/users`);\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isRequested) {\r\n            return <div className=\"main\">\r\n            <div className=\"inline\">\r\n                <div className=\"headingPage\">\r\n                    Информация о пользователе\r\n                </div>\r\n                <Button className=\"lineValueButton\" onClick={()=>this.setShow(true)} variant=\"primary\" type=\"submit\">\r\n                        Удалить\r\n                </Button>\r\n            </div>\r\n            <Form>\r\n                <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                    <Form.Label className=\"boldLineHead\" column sm={2}>\r\n                        Имя\r\n                    </Form.Label>\r\n                    <Col sm={10}>\r\n                        <Form.Label column sm={2}>\r\n                            {\r\n                                this.state.user.first_name\r\n                            }\r\n                        </Form.Label>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                    <Form.Label className=\"boldLineHead\" column sm={2}>\r\n                        Фамилия\r\n                    </Form.Label>\r\n                    <Col sm={10}>\r\n                        <Form.Label column sm={2}>\r\n                            {\r\n                                this.state.user.last_name\r\n                            }\r\n                        </Form.Label>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                    <Form.Label className=\"boldLineHead\" column sm={2}>\r\n                        Номер телефона\r\n                    </Form.Label>\r\n                    <Col sm={10}>\r\n                        <Form.Label column sm={2}>\r\n                            {\r\n                                this.state.user.phone\r\n                            }\r\n                        </Form.Label>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                    <Form.Label className=\"boldLineHead\" column sm={2}>\r\n                        Email\r\n                    </Form.Label>\r\n                    <Col sm={10}>\r\n                        <Form.Label column sm={2}>\r\n                            {\r\n                                this.state.user.email\r\n                            }\r\n                        </Form.Label>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Form.Group as={Row} controlId=\"formHorizontalEmail\">\r\n                    <Form.Label className=\"boldLineHead\" column sm={2}>\r\n                        Дата рождения\r\n                    </Form.Label>\r\n                    <Col sm={10}>\r\n                        <Form.Label column sm={2}>\r\n                            <Moment format=\"DD.MM.YYYY\">\r\n                                    {\r\n                                        new Date(this.state.user.birth_date)\r\n                                    }\r\n                            </Moment>\r\n                        </Form.Label>\r\n                    </Col>\r\n                </Form.Group>\r\n\r\n            </Form>\r\n            <div className=\"inline_block_users_title\">\r\n                <div className=\"title_block\">\r\n                    Задачи пользователя\r\n                </div>\r\n            </div>\r\n            <div className=\"text_description\">\r\n                <BootstrapTable data={[]} striped hover>\r\n                    <TableHeaderColumn isKey dataField='taskId'>Id задачи</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='name'>Название задачи</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='taskDate'>Дата постановки</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='id'>Id исполнителя</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='time'>Затраченное время</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='status'>Статус</TableHeaderColumn>\r\n                </BootstrapTable>\r\n            </div>\r\n\r\n            <DeleteConfirmModal show={this.state.isShow} \r\n            projectId={this.state.userId}\r\n            onHide={() => this.setShow(false)} \r\n            onSave={(userId)=> this.deleteUserHandler(userId)}\r\n            />\r\n        </div>;\r\n        } else {\r\n            return <div>Loading...</div>\r\n        }\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.User,\r\n    userId: 0,\r\n    isShow: false\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n) (UserPage);"]},"metadata":{},"sourceType":"module"}