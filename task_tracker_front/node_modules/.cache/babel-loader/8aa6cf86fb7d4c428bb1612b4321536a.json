{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\taskTraker\\\\task_tracker_front\\\\src\\\\components\\\\Login\\\\Login.jsx\";\nimport React, { Component } from 'react';\nimport * as css from \"./Styles.css\";\nimport { connect } from 'react-redux';\nimport ActionTypes from '../../store/Actions/index.js';\nimport axios from 'axios';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlerEmail = event => {\n      this.setState({\n        login: event.target.value\n      });\n    };\n\n    this.handlerPassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.createUserHandler = () => {\n      if (this.state.login === null || this.state.login === \"\" || this.state.password === null || this.state.password === \"\") {\n        alert(\"Некорректные данные!\");\n      } else {\n        axios.post('http://localhost:57392/authUser', {\n          login: this.state.login,\n          password: this.state.password\n        }).then(response => {\n          console.log(response);\n\n          if (response.data.error) {\n            alert(response.data.error);\n          } else {\n            console.log(response); // alert(\"Djsejkfjksf\");\n\n            this.setState(this.props.user, {\n              user_id: response.data.data.user_id,\n              apikey: response.data.data.apikey,\n              is_admin: response.data.data.is_admin\n            });\n            this.props.history.push(\"/users\");\n          }\n        });\n      }\n    };\n\n    this.state = {\n      login: \"\",\n      password: \"\",\n      User: {}\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      onChange: this.handlerEmail,\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), React.createElement(Form.Control, {\n      type: \"password\",\n      onChange: this.handlerPassword,\n      placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      onClick: this.createUserHandler,\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\")); // <div className=\"auth-window\">\n    //     <div className=\"container\">\n    //         <div className=\"row\">\n    //             <div className=\"col-md-offset-3 col-md-6\">\n    //                 <form className=\"form-horizontal\">\n    //                     <span className=\"heading\">АВТОРИЗАЦИЯ</span>\n    //                     <div className=\"form-group\">\n    //                         <input type=\"email\" className=\"form-control\" id=\"inputEmail\" onChange={this.handlerEmail} placeholder=\"E-mail\" />\n    //                         <i className=\"fa fa-user\"></i>\n    //                     </div>\n    //                     <div className=\"form-group help\">\n    //                         <input type=\"password\" className=\"form-control\" id=\"inputPassword\" onChange={this.handlerPassword} placeholder=\"Password\" />\n    //                         <i className=\"fa fa-lock\"></i>\n    //                     </div>\n    //                     <div className=\"form-group button-padding\">\n    //                         <button onClick={()=>this.createUserHandler()} className=\"btn btn-default\">ВХОД</button>\n    //                     </div>\n    //                 </form>\n    //             </div>\n    //         </div>\n    //     </div>\n    // </div>;\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  login: state.login,\n  password: state.password\n});\n\nexport default connect(mapStateToProps, null)(Login);","map":{"version":3,"sources":["C:/projects/taskTraker/task_tracker_front/src/components/Login/Login.jsx"],"names":["React","Component","css","connect","ActionTypes","axios","Modal","Button","Form","Login","constructor","props","handlerEmail","event","setState","login","target","value","handlerPassword","password","createUserHandler","state","alert","post","then","response","console","log","data","error","user","user_id","apikey","is_admin","history","push","User","render","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as css from \"./Styles.css\";\r\nimport { connect } from 'react-redux';\r\nimport ActionTypes from '../../store/Actions/index.js';\r\nimport axios from 'axios';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: \"\",\r\n            password: \"\",\r\n            User: {}\r\n        };\r\n    }\r\n\r\n    handlerEmail = (event) => {\r\n        this.setState({ login: event.target.value })\r\n    } \r\n\r\n    handlerPassword = (event) => {\r\n        this.setState({ password: event.target.value })\r\n    } \r\n\r\n    createUserHandler = () => {\r\n        if (this.state.login === null ||\r\n            this.state.login === \"\" ||\r\n            this.state.password === null ||\r\n            this.state.password === \"\") {\r\n                alert(\"Некорректные данные!\");\r\n            } else {\r\n                axios.post('http://localhost:57392/authUser',\r\n                {\r\n                    login: this.state.login,\r\n                    password: this.state.password\r\n                }).then(response => {\r\n                    console.log(response);\r\n                    if (response.data.error) {\r\n                        alert(response.data.error);\r\n                    } else {\r\n                        console.log(response);\r\n                        // alert(\"Djsejkfjksf\");\r\n\r\n                        this.setState(this.props.user, {\r\n                            user_id: response.data.data.user_id,\r\n                            apikey:  response.data.data.apikey,\r\n                            is_admin:  response.data.data.is_admin,\r\n                        });\r\n\r\n                        this.props.history.push(`/users`);\r\n                    }\r\n                });\r\n            }\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.props);\r\n\r\n        console.log(this.state);\r\n\r\n        return <div><Form>\r\n        <Form.Group controlId=\"email\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control onChange={this.handlerEmail} placeholder=\"Email\"/>\r\n        </Form.Group>\r\n        \r\n        <Form.Group controlId=\"email\">\r\n            <Form.Label>Пароль</Form.Label>\r\n            <Form.Control type=\"password\" onChange={this.handlerPassword} placeholder=\"Пароль\"/>\r\n        </Form.Group>\r\n\r\n    </Form>\r\n    <Button onClick={this.createUserHandler} variant=\"primary\" type=\"submit\">\r\n                        Сохранить\r\n                    </Button>\r\n    </div>\r\n        \r\n        // <div className=\"auth-window\">\r\n        //     <div className=\"container\">\r\n        //         <div className=\"row\">\r\n        //             <div className=\"col-md-offset-3 col-md-6\">\r\n        //                 <form className=\"form-horizontal\">\r\n        //                     <span className=\"heading\">АВТОРИЗАЦИЯ</span>\r\n        //                     <div className=\"form-group\">\r\n        //                         <input type=\"email\" className=\"form-control\" id=\"inputEmail\" onChange={this.handlerEmail} placeholder=\"E-mail\" />\r\n        //                         <i className=\"fa fa-user\"></i>\r\n        //                     </div>\r\n        //                     <div className=\"form-group help\">\r\n        //                         <input type=\"password\" className=\"form-control\" id=\"inputPassword\" onChange={this.handlerPassword} placeholder=\"Password\" />\r\n        //                         <i className=\"fa fa-lock\"></i>\r\n        //                     </div>\r\n        //                     <div className=\"form-group button-padding\">\r\n        //                         <button onClick={()=>this.createUserHandler()} className=\"btn btn-default\">ВХОД</button>\r\n        //                     </div>\r\n        //                 </form>\r\n        //             </div>\r\n        //         </div>\r\n        //     </div>\r\n        // </div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    login: state.login,\r\n    password: state.password\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)\r\n(Login);"]},"metadata":{},"sourceType":"module"}