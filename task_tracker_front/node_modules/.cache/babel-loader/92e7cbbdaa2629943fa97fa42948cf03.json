{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\taskTraker\\\\task_tracker_front\\\\src\\\\components\\\\Login\\\\Login.jsx\";\nimport React, { Component } from 'react';\nimport * as css from \"./Styles.css\";\nimport { connect } from 'react-redux';\nimport ActionTypes from '../../store/Actions/index.js';\nimport axios from 'axios';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlerEmail = event => {\n      this.setState({\n        login: event.target.value\n      });\n    };\n\n    this.handlerPassword = event => {\n      this.setState({\n        password: event.target.value\n      });\n    };\n\n    this.createUserHandler = () => {\n      if (this.state.login === null || this.state.login === \"\" || this.state.password === null || this.state.password === \"\") {\n        alert(\"Некорректные данные!\");\n      } else {\n        axios.post('http://localhost:57392/authUser', {\n          login: this.state.login,\n          password: this.state.password\n        }).then(response => {\n          console.log(response);\n\n          if (response.data.error) {\n            alert(response.data.error);\n          } else {\n            this.setState({\n              UserReduser: {\n                user_id: response.data.data.user_id,\n                apikey: response.data.data.apikey,\n                is_admin: response.data.data.is_admin\n              }\n            });\n            this.props.history.push(\"/users\");\n          }\n        });\n      }\n    };\n\n    this.state = {\n      login: \"\",\n      password: \"\"\n    };\n  }\n\n  render() {\n    console.log(this.props);\n    console.log(this.state);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      onChange: this.handlerEmail,\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), React.createElement(Form.Control, {\n      type: \"password\",\n      onChange: this.handlerPassword,\n      placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(Button, {\n      onClick: this.createUserHandler,\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    saveDataAction: apikey => {\n      dispatch(SaveDataAction(apikey));\n    }\n  };\n};\n\nconst mapStateToProps = state => ({\n  UserReduser: state.UserReduser,\n  login: state.login,\n  password: state.password\n});\n\nexport default connect(mapStateToProps, null)(Login);","map":{"version":3,"sources":["C:/projects/taskTraker/task_tracker_front/src/components/Login/Login.jsx"],"names":["React","Component","css","connect","ActionTypes","axios","Modal","Button","Form","Login","constructor","props","handlerEmail","event","setState","login","target","value","handlerPassword","password","createUserHandler","state","alert","post","then","response","console","log","data","error","UserReduser","user_id","apikey","is_admin","history","push","render","mapDispatchToProps","dispatch","saveDataAction","SaveDataAction","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as css from \"./Styles.css\";\r\nimport { connect } from 'react-redux';\r\nimport ActionTypes from '../../store/Actions/index.js';\r\nimport axios from 'axios';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            login: \"\",\r\n            password: \"\"\r\n        };\r\n    }\r\n\r\n    handlerEmail = (event) => {\r\n        this.setState({ login: event.target.value })\r\n    }\r\n\r\n    handlerPassword = (event) => {\r\n        this.setState({ password: event.target.value })\r\n    }\r\n\r\n    createUserHandler = () => {\r\n        if (this.state.login === null ||\r\n            this.state.login === \"\" ||\r\n            this.state.password === null ||\r\n            this.state.password === \"\") {\r\n            alert(\"Некорректные данные!\");\r\n        } else {\r\n            axios.post('http://localhost:57392/authUser',\r\n                {\r\n                    login: this.state.login,\r\n                    password: this.state.password\r\n                }).then(response => {\r\n                    console.log(response);\r\n                    if (response.data.error) {\r\n                        alert(response.data.error);\r\n                    } else {\r\n\r\n                        this.setState({\r\n                            UserReduser: { user_id: response.data.data.user_id,\r\n                                apikey: response.data.data.apikey,\r\n                                is_admin: response.data.data.is_admin,\r\n                            }\r\n                        });\r\n\r\n                        this.props.history.push(`/users`);\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.props);\r\n\r\n        console.log(this.state);\r\n\r\n        return <div><Form>\r\n            <Form.Group controlId=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control onChange={this.handlerEmail} placeholder=\"Email\" />\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"email\">\r\n                <Form.Label>Пароль</Form.Label>\r\n                <Form.Control type=\"password\" onChange={this.handlerPassword} placeholder=\"Пароль\" />\r\n            </Form.Group>\r\n\r\n        </Form>\r\n            <Button onClick={this.createUserHandler} variant=\"primary\" type=\"submit\">\r\n                Сохранить\r\n                    </Button>\r\n        </div>\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        saveDataAction: (apikey) => {\r\n            dispatch(SaveDataAction(apikey));\r\n        },\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    UserReduser: state.UserReduser,\r\n    login: state.login,\r\n    password: state.password\r\n});\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)\r\n    (Login);"]},"metadata":{},"sourceType":"module"}